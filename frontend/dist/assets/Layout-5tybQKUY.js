import{u as m,a as h,j as e,L as o,t as p,l as f,b as j,s as g,r as d,g as y,c as v,O as N}from"./index-BpUxnEab.js";import{c as l}from"./createLucideIcon-Cd_Ik4SM.js";import{U as u}from"./user-CKKpeG9V.js";import{P as b,L as k}from"./palette-BW_KVEmT.js";import{D as w}from"./DummyUser-DHHqRRpg.js";/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"19",cy:"5",r:"1",key:"w8mnmm"}],["circle",{cx:"5",cy:"5",r:"1",key:"lttvr7"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}],["circle",{cx:"19",cy:"19",r:"1",key:"shf9b7"}],["circle",{cx:"5",cy:"19",r:"1",key:"bfqh0e"}]],_=l("grip",S);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=[["path",{d:"M12.7 3H4a2 2 0 0 0-2 2v16.286a.71.71 0 0 0 1.212.502l2.202-2.202A2 2 0 0 1 6.828 19H20a2 2 0 0 0 2-2v-4.7",key:"wjb7ig"}],["circle",{cx:"19",cy:"6",r:"3",key:"108a5v"}]],C=l("message-square-dot",z);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],U=l("moon",L);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],O=l("search",M);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],$=l("settings",T);/**
 * @license lucide-react v0.554.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],A=l("sun",q);function D(){const s=m(),{theme:c}=h(r=>r.theme);function t(){s(f())}function n(){s(p())}return e.jsxs("nav",{className:"flex justify-between items-center shadow-lg p-3",children:[e.jsxs(o,{to:"/",className:"flex gap-2 items-center animate-pulse",children:[e.jsx(C,{size:25,className:""}),e.jsx("h3",{className:"bg-linear-to-r from-emerald-400 to-indigo-500 bg-clip-text text-transparent text-3xl font-bold",children:"Chatify"})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"hover:cursor-pointer",onClick:n,children:c==="light"?e.jsx(U,{size:20}):e.jsx(A,{size:20})}),e.jsx(o,{to:"/profile",children:e.jsx(u,{size:23})}),e.jsxs("div",{className:"dropdown dropdown-end hover:cursor-pointer",children:[e.jsx(_,{size:24,tabIndex:0,role:"button",className:"outline-0 rounded-field"}),e.jsxs("ul",{tabIndex:"-1",className:"menu dropdown-content bg-base-100 rounded-box z-10 mt-5 w-40 p-2 shadow-lg",children:[e.jsx("li",{children:e.jsxs(o,{to:"/themes",children:[e.jsx(b,{size:20})," Themes"]})}),e.jsx("li",{children:e.jsxs(o,{to:"/setting",children:[e.jsx($,{size:20})," Setting"]})}),e.jsx("li",{children:e.jsxs("button",{onClick:t,children:[e.jsx(k,{size:20}),"Logout"]})})]})]})]})]})}function E({searchTerm:s,setSearchTerm:c}){return e.jsxs("label",{className:"input rounded-2xl outline-none",children:[e.jsx(O,{className:"h-[1em]"}),e.jsx("input",{type:"search",required:!0,placeholder:"Search",className:"rounded-xl",value:s,onChange:t=>c(t.target.value)})]})}function H({user:s,onlineUsers:c}){const t=j(),n=m(),r=c.includes(s._id);function x(i,a){t(`/chat/${i}`),n(g(a))}return e.jsx("button",{onClick:()=>x(s._id,s),className:"card group p-2 hover:bg-linear-to-l from-emerald-300 to-indigo-300 border border-base-300 shadow hover:scale-106",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`avatar ${r?"avatar-online":"avatar-offline"}`,children:e.jsx("div",{className:"w-13 rounded-full",children:e.jsx("img",{src:s.profilePic||w})})}),e.jsxs("div",{className:"w-full text-left hidden sm:block",children:[e.jsx("h3",{className:"group-hover:text-white",children:s.name}),e.jsx("p",{className:"text-base-300 text-green-400 font-bold text-sm group-hover:text-white",children:r?"Online":"Offline"})]})]})})}function I(){return e.jsxs("div",{className:"flex flex-col items-center justify-center max-w-[100px] sm:max-w-[300px] py-10 text-center space-y-4",children:[e.jsx("div",{className:"w-16 h-16 bg-emerald-500/10 rounded-full flex items-center justify-center",children:e.jsx(u,{className:"w-8 h-8 text-emerald-400 animate-bounce"})}),e.jsxs("div",{children:[e.jsx("h4",{className:"text-emerald-200 font-medium mb-1",children:"No conversations yet"}),e.jsx("p",{className:"text-slate-400 text-sm px-6",children:"Start a new chat by selecting a contact from the contacts tab"})]}),e.jsx("button",{onClick:()=>setActiveTab("contacts"),className:"px-4 py-2 text-sm text-emerald-400 bg-cyan-500/10 rounded-lg hover:bg-cyan-500/20 transition-colors",children:"Find contacts"})]})}function P(){return e.jsx("div",{className:"space-y-2",children:[...Array(10)].map((s,c)=>e.jsx("div",{className:"mx-auto min-w-[300px] max-w-sm p-3 rounded-md border shadow border-slate-300",children:e.jsxs("div",{className:"flex animate-pulse space-x-4",children:[e.jsx("div",{className:"size-10 rounded-full bg-gray-200"}),e.jsxs("div",{className:"flex-1 space-y-4 py-1",children:[e.jsx("div",{className:"h-2 rounded bg-gray-200"}),e.jsx("div",{className:"space-y-3",children:e.jsx("div",{className:"grid grid-cols-3 gap-4",children:e.jsx("div",{className:"col-span-1 h-2 rounded bg-gray-200"})})})]})]})},c))})}function F({onlineUsers:s}){const c=m(),[t,n]=d.useState(""),{users:r,isLoading:x}=h(a=>a.users);d.useEffect(()=>{c(y())},[c]);const i=r?.filter(a=>a.name.toLowerCase().includes(t.toLowerCase()));return e.jsxs("aside",{className:"p-3 max-w-[100px] sm:max-w-[300px] shadow h-full overflow-auto",children:[e.jsx(E,{searchTerm:t,setSearchTerm:n}),e.jsxs("div",{className:"py-4 flex flex-col gap-3",children:[x&&e.jsx(P,{}),r&&i.length===0&&e.jsx(I,{}),i.map(a=>e.jsx(H,{user:a,onlineUsers:s},a._id))]})]})}function Q(){const[s,c]=d.useState([]);return d.useEffect(()=>{const t=v();if(t)return t.on("getOnlineUsers",n=>{c(n)}),()=>{t.off("getOnlineUsers")}},[]),e.jsxs("main",{className:"h-screen w-full bg-base-400 overflow-hidden flex flex-col",children:[e.jsx(D,{}),e.jsxs("div",{className:"flex flex-1 w-full overflow-hidden",children:[e.jsx("div",{className:"",children:e.jsx(F,{onlineUsers:s})}),e.jsx("div",{className:"flex-1 p-3 h-full overflow-auto",children:e.jsx(N,{context:{onlineUsers:s}})})]})]})}export{Q as default};
